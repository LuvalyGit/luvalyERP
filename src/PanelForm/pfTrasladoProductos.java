/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package PanelForm;

import Conexion.ExeSql;
import Dialogos.jdAbrirFolioAud;
import Dialogos.jdBuscaUbicacion;
import Dialogos.jdBuscaUbicacionTraslados;
import Formularios.fmMain;
import static Formularios.fmMain.pnPestanas;
import Utilidades.CargaGrillas;
import Utilidades.PanelTab;
import java.awt.Color;
import java.awt.Component;
import java.awt.Point;
import java.awt.event.KeyEvent;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.JTable;
import javax.swing.table.DefaultTableCellRenderer;
import javax.swing.table.DefaultTableModel;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.event.AncestorEvent;
import javax.swing.event.AncestorListener;

/**
 *
 * @author luvaly
 */
public class pfTrasladoProductos extends javax.swing.JPanel {
    
    public boolean booAgregando = false;
    public boolean Elige = false;
    
    
    public boolean pub_agrega = false;
    public String pub_Sku = "";
    public int pub_Sistema = 0;    
    public int pub_Cantidad = 0;    
    
    
    
    DefaultTableCellRenderer rightRenderer = new DefaultTableCellRenderer();   
    DefaultTableCellRenderer centerRenderer = new DefaultTableCellRenderer();
    public static Color DARK_GREEN = new Color(0,153,0);
    
    int nuevo = 0; //0 = Abrir   /  1 = Nuevo
    
    int contselec = 0;
    int cant = 0;
    double dcant = 0;
    int Nota = 0;
    int Ncp = 0;
    int GlobalStock = 0;
    int NoEncontrado = 0;
    
    int Encontrado = 0;   
    
    /**
     * Creates new form AsignaUbicacion
     */
 
    public pfTrasladoProductos() {
        initComponents();
        
        txtUbicacion2.setVisible(false);
        lbCarga.setVisible(false);
        
       
        //txtUbicacion.setEnabled(false);
        
        if(fmMain.GetUsuarioEligeUbicacion()){
         
            btUbc.setEnabled(true);
         
         
        }else{
        
            btUbc.setEnabled(false);
        
        
        }
        
        
//        
//        txtSku.setEnabled(false);
//        txCant.setEnabled(false);
        
      
       // btReubicar.setEnabled(false);
        
        CARGAR();
        
        
         //***********************************************************************************************************************************************************************//
        
        txtUbicacion.addAncestorListener(new AncestorListener() {   //Para que el cursor se posicione en el textfield de la contrase침a al abrir la ventana emergente
            
            @Override
            public void ancestorRemoved(AncestorEvent event) {}

            @Override
            public void ancestorMoved(AncestorEvent event) {}

            @Override
            public void ancestorAdded(AncestorEvent event) {
        
                event.getComponent().requestFocusInWindow();
            }
        });
        
     //***********************************************************************************************************************************************************************//
        
        
        
       
     }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jScrollPane2 = new javax.swing.JScrollPane();
        jTextArea1 = new javax.swing.JTextArea();
        jTextField1 = new javax.swing.JTextField();
        jTextField2 = new javax.swing.JTextField();
        jPopupMenu1 = new javax.swing.JPopupMenu();
        MnuProd = new javax.swing.JMenuItem();
        panel = new javax.swing.JPanel();
        jScrollPane4 = new javax.swing.JScrollPane();
        Grilla_metro = new javax.swing.JTable();
        jPanel2 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        txtSku = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        txNombre = new javax.swing.JTextField();
        txCant = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        btAdd = new javax.swing.JButton();
        btMenos = new javax.swing.JButton();
        btReubicar = new javax.swing.JButton();
        lbCarga = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        txtUbicacion = new javax.swing.JTextField();
        btUbc = new javax.swing.JButton();
        txNombreUbicacion = new javax.swing.JTextField();
        txtUbicacion2 = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        Grilla_Aud = new javax.swing.JTable();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        lbSelec = new javax.swing.JLabel();
        btActualizar = new javax.swing.JButton();

        jTextArea1.setColumns(20);
        jTextArea1.setRows(5);
        jScrollPane2.setViewportView(jTextArea1);

        jTextField1.setText("jTextField1");

        jTextField2.setText("jTextField2");

        MnuProd.setText("Ver Producto");
        MnuProd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MnuProdActionPerformed(evt);
            }
        });
        jPopupMenu1.add(MnuProd);

        Grilla_metro.setAutoCreateRowSorter(true);
        Grilla_metro.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Sku", "Nombre", "Cant"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        Grilla_metro.setComponentPopupMenu(jPopupMenu1);
        Grilla_metro.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                Grilla_metroMouseClicked(evt);
            }
        });
        jScrollPane4.setViewportView(Grilla_metro);
        if (Grilla_metro.getColumnModel().getColumnCount() > 0) {
            Grilla_metro.getColumnModel().getColumn(0).setMinWidth(80);
            Grilla_metro.getColumnModel().getColumn(0).setMaxWidth(80);
            Grilla_metro.getColumnModel().getColumn(2).setMinWidth(60);
            Grilla_metro.getColumnModel().getColumn(2).setMaxWidth(60);
        }

        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel2.setText("Sku");

        txtSku.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtSkuKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtSkuKeyReleased(evt);
            }
        });

        jLabel3.setText("Nombre");

        txNombre.setEditable(false);
        txNombre.setEnabled(false);
        txNombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txNombreActionPerformed(evt);
            }
        });
        txNombre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txNombreKeyPressed(evt);
            }
        });

        txCant.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txCant.setText("1");
        txCant.setToolTipText("");
        txCant.setEnabled(false);
        txCant.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txCantFocusLost(evt);
            }
        });
        txCant.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txCantMouseClicked(evt);
            }
        });
        txCant.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txCantKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txCantKeyTyped(evt);
            }
        });

        jLabel1.setText("Cantidad");

        btAdd.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        btAdd.setText("+");
        btAdd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btAddActionPerformed(evt);
            }
        });

        btMenos.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        btMenos.setText("-");
        btMenos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btMenosActionPerformed(evt);
            }
        });

        btReubicar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos16/Actualiza.png"))); // NOI18N
        btReubicar.setText("REUBICAR");
        btReubicar.setToolTipText("");
        btReubicar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btReubicarActionPerformed(evt);
            }
        });

        lbCarga.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/Carga2.gif"))); // NOI18N
        lbCarga.setText("    Reubicando...");
        lbCarga.setToolTipText("");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addComponent(jLabel2))
                .addGap(26, 26, 26)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(txtSku, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(27, 27, 27)
                        .addComponent(jLabel1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txCant, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(btMenos, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btAdd))
                        .addGap(18, 18, 18)
                        .addComponent(btReubicar, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lbCarga)
                        .addGap(0, 3, Short.MAX_VALUE))
                    .addComponent(txNombre))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jLabel1)
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(btAdd)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(btMenos))
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel2)
                            .addComponent(txtSku, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txCant, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(btReubicar, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(lbCarga)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3))
                .addGap(17, 17, 17))
        );

        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel4.setText("Ubicacion");

        txtUbicacion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtUbicacionActionPerformed(evt);
            }
        });
        txtUbicacion.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtUbicacionKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtUbicacionKeyReleased(evt);
            }
        });

        btUbc.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos22/search.png"))); // NOI18N
        btUbc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btUbcActionPerformed(evt);
            }
        });

        txNombreUbicacion.setEditable(false);

        txtUbicacion2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtUbicacion2ActionPerformed(evt);
            }
        });
        txtUbicacion2.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtUbicacion2KeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtUbicacion2KeyReleased(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(txNombreUbicacion))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                        .addGap(13, 13, 13)
                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtUbicacion, javax.swing.GroupLayout.PREFERRED_SIZE, 104, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btUbc, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(31, 31, 31)
                        .addComponent(txtUbicacion2, javax.swing.GroupLayout.PREFERRED_SIZE, 104, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addGap(97, 97, 97))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel4)
                        .addComponent(txtUbicacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(btUbc, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(txtUbicacion2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(txNombreUbicacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(33, 33, 33))
        );

        Grilla_Aud.setAutoCreateRowSorter(true);
        Grilla_Aud.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Sku", "Nombre", "Sistema", "Cantidad", "Ubicar"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Object.class, java.lang.Object.class, java.lang.Object.class, java.lang.Object.class, java.lang.Boolean.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false, true
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        Grilla_Aud.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                Grilla_AudMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(Grilla_Aud);
        if (Grilla_Aud.getColumnModel().getColumnCount() > 0) {
            Grilla_Aud.getColumnModel().getColumn(0).setMinWidth(80);
            Grilla_Aud.getColumnModel().getColumn(0).setMaxWidth(80);
            Grilla_Aud.getColumnModel().getColumn(1).setMinWidth(250);
            Grilla_Aud.getColumnModel().getColumn(1).setMaxWidth(540);
            Grilla_Aud.getColumnModel().getColumn(2).setMinWidth(50);
            Grilla_Aud.getColumnModel().getColumn(2).setMaxWidth(50);
            Grilla_Aud.getColumnModel().getColumn(3).setMinWidth(60);
            Grilla_Aud.getColumnModel().getColumn(3).setMaxWidth(60);
            Grilla_Aud.getColumnModel().getColumn(4).setMinWidth(50);
            Grilla_Aud.getColumnModel().getColumn(4).setMaxWidth(50);
        }

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel5.setText("PRODUCTOS EN UBICACION");

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel6.setText("PRODUCTOS EN TEMPORAL");
        jLabel6.setToolTipText("");

        jLabel9.setText("Productos Seleccionados");

        lbSelec.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbSelec.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbSelec.setText("0");
        lbSelec.setToolTipText("");
        lbSelec.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        btActualizar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos16/wait.gif"))); // NOI18N
        btActualizar.setText("ACTUALIZAR");
        btActualizar.setToolTipText("");
        btActualizar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btActualizarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout panelLayout = new javax.swing.GroupLayout(panel);
        panel.setLayout(panelLayout);
        panelLayout.setHorizontalGroup(
            panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(panelLayout.createSequentialGroup()
                        .addGroup(panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 192, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 587, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btActualizar, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(0, 4, Short.MAX_VALUE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 716, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(panelLayout.createSequentialGroup()
                            .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 207, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(lbSelec, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(13, 13, 13))))
                .addGap(167, 167, 167))
        );
        panelLayout.setVerticalGroup(
            panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(lbSelec, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(panelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(panelLayout.createSequentialGroup()
                        .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 355, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(btActualizar, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(159, 159, 159))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(panel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(panel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(10, 10, 10))
        );
    }// </editor-fold>//GEN-END:initComponents

    
    
    private void CARGAR(){
    
        
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
                
        DefaultTableModel TableModelo = (DefaultTableModel) Grilla_Aud.getModel();        
        String Query="";
        
        
        while (TableModelo.getRowCount() > 0) {
            TableModelo.removeRow(0);
        }
            
        try {
                
            Query="SELECT tp.sku, p.nombre, tp.sistema FROM mt_traslado_productos tp \n" +
                  "LEFT JOIN producto p ON tp.sku = p.sku\n" +
                  "ORDER BY tp.sku"; 
                
            Rs = Sql.Select(Query);

            if (Sql.GetRowCount() > 0){
            
                while(Rs.next()){
                    
                    
                    //if (Rs.getInt("sistema") > 0){
                    
                        TableModelo.addRow(new Object[]{Rs.getString("sku"),Rs.getString("nombre"),Rs.getString("sistema"),0,false});
                    
                    //}
                
                }  
                        
                    
            }
           
              
            
        }catch (Exception e) {
            
            System.out.println(e);
             Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, e);
        
        }finally{
            
            Sql.Close();
        }
    
    }
    
    
    
    private String existe_sku(String Codigo, String ubicacion){
    
        ExeSql Sql = new ExeSql();
        ResultSet Rs1;
        String Query2 ="";
        
        try{
         
            Query2 = "select * from mt_productos where sku = '" + Codigo + "' and ubicacion = '" + ubicacion + "';";
            
            Rs1 = Sql.Select(Query2);
                     
            if (Rs1.next()){
                        
                return(Rs1.getString("sku"));
                     
            }   
        
        }catch (Exception e) {
         
            System.out.println(e.getMessage());
        
        }finally{
        
            Sql.Close();
        }          
        
        return(""); 
    }
    
    
    private void txtSkuKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtSkuKeyPressed
        
        if(evt.getKeyCode() == KeyEvent.VK_ENTER){
            
            if (txtSku.getText().isEmpty() || txtSku.getText().trim().equals("")){
            
                fmMain.Mensaje("Debe ingresar Sku...!");
                txtSku.requestFocus();
                return;
            }
            
            
            
            int encontrado = 0;
          
            carga_producto();
            
            
            if(NoEncontrado == 0){
            
                return;
            
            }
            
            
         
            for (int i = 0; i < Grilla_Aud.getRowCount(); i++) {
                       
                if (Grilla_Aud.getValueAt(i, 0).equals(txtSku.getText().trim())) {
            
                     Grilla_Aud.changeSelection(i, 0, false, false);
                     encontrado = 1;
                     break;
                
                }else {
                
                    encontrado = 0;
                
                }
            }
            
            
            if (encontrado == 1){
                
               
                String Sku =   Grilla_Aud.getValueAt(Grilla_Aud.getSelectedRow(), 0).toString().trim();
                int Sistema =  Integer.parseInt(Grilla_Aud.getValueAt(Grilla_Aud.getSelectedRow(), 2).toString().trim());
                int Cantidad  =  Integer.parseInt(Grilla_Aud.getValueAt(Grilla_Aud.getSelectedRow(), 3).toString().trim());
                int NuevaCantidad  =  Integer.parseInt(txCant.getText());
                
                
                int Total = Cantidad + NuevaCantidad;
                
                Grilla_Aud.setValueAt(Total, Grilla_Aud.getSelectedRow(), 3);
                
                txtSku.setText("");
                txNombre.setText("");
                txtSku.requestFocus();
                txCant.setText("1");
                
                
        //****************************************************************************************************************************//                    
                
                        
            }
        }


    }//GEN-LAST:event_txtSkuKeyPressed
 
    
      
    private void txtSkuKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtSkuKeyReleased
        
         txtSku.setText( txtSku.getText().toUpperCase());
    }//GEN-LAST:event_txtSkuKeyReleased

    
    private void txNombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txNombreActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txNombreActionPerformed

    private void MnuProdActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MnuProdActionPerformed
        // TODO add your handling code here:
        System.out.println( Grilla_metro.getValueAt(Grilla_metro.getSelectedRow(), 0).toString().trim());
        pfProductos Pro = new pfProductos();
        Pro.setOpaque(false);
        pnPestanas.addTab("Producto", Pro);
        PanelTab btc = new PanelTab(pnPestanas, 0);
        pnPestanas.setTabComponentAt(pnPestanas.indexOfComponent(Pro), btc);
        pnPestanas.setSelectedIndex(pnPestanas.getTabCount() - 1);
        Pro.txSku.requestFocus();
        Pro.CargaProducto(Grilla_metro.getValueAt(Grilla_metro.getSelectedRow(), 0).toString().trim());   
    }//GEN-LAST:event_MnuProdActionPerformed

    private void txNombreKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txNombreKeyPressed
        // TODO add your handling code here:
    }//GEN-LAST:event_txNombreKeyPressed

    private void txtUbicacionKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtUbicacionKeyPressed

        if(evt.getKeyCode() == KeyEvent.VK_ENTER){
             
            if(txtUbicacion.getText().equals("") || txtUbicacion.getText().isEmpty()){ 
            
                if(fmMain.GetUsuarioEligeUbicacion()){
           
                    // btUbc.doClick();
         
                }
                
            
            }else {
             
                ExeSql Sql = new ExeSql();
                ResultSet Rs;
                String Query="";
                   
            
                try {
                
                
                    Query="SELECT * FROM mt_codmetro \n"+ 
                           "WHERE codmetro IN ('" + txtUbicacion.getText().trim()  + "') "; 
                
                    Rs = Sql.Select(Query);

                    if (Sql.GetRowCount() > 0){
            
                        Rs.next();
                        
//                        if(Rs.getInt("habilita") == 0){
//                        
//                            fmMain.Mensaje("Ubicaci칩n Deshabilitada!!"); 
//                            txtUbicacion.setText("");
//                            txNombreUbicacion.setText("");
//                            txtUbicacion.requestFocus();
//                            return;
//                            
//                        
//                        }
                        
                        
                        if(!Rs.getString("nombre").trim().contains("BODEGA")){
                        
                            fmMain.Mensaje("Ubicaci칩n Deshabilitada!!"); 
                            txtUbicacion.setText("");
                            txNombreUbicacion.setText("");
                            txtUbicacion.requestFocus();
                            return;
                            
                        
                        }
                        
                        
                        
                       
                        txNombreUbicacion.setText(Rs.getString("nombre"));
                        
                        txtUbicacion2.setText(txtUbicacion.getText().trim());
                                   
                        CargaProductos();
                        
                      
                        btReubicar.setEnabled(true);
                        
                    
                    }else {
                
                        fmMain.Mensaje("La Ubicaci칩n No Existe!!"); 
                        txtUbicacion.setText("");
                        txNombreUbicacion.setText("");
                        txtUbicacion2.setText("");
                        return;
                
                    }
           
                    txtUbicacion.setText("");
            
                }catch (Exception e) {
            
                    System.out.println(e);
                }finally{
            
                    Sql.Close();
                }
            
            }   
        
        }  
    }//GEN-LAST:event_txtUbicacionKeyPressed

    
    private void CargaProductos(){
    
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
                
        DefaultTableModel TableModelo = (DefaultTableModel) Grilla_metro.getModel();        
        String Query="";
        
        
        while (TableModelo.getRowCount() > 0) {
            TableModelo.removeRow(0);
        }
            
        try {
                
            Query="SELECT mt.sku, p.nombre, mt.cant FROM mt_productos mt \n"+ 
                  "LEFT JOIN producto p ON mt.sku = p.sku \n"+ 
                  "WHERE mt.ubicacion IN ('" + txtUbicacion.getText().trim()  + "') "; 
                
            Rs = Sql.Select(Query);

            if (Sql.GetRowCount() > 0){
            
                while(Rs.next()){
                    
                    
                    if (Rs.getInt("cant") > 0){
                    
                        TableModelo.addRow(new Object[]{Rs.getString("sku"),Rs.getString("nombre"),Rs.getString("cant")});
                    
                    }
                
                }  
                        
                    
            }
           
              
            
        }catch (Exception e) {
            
            System.out.println(e);
        
        }finally{
            
            Sql.Close();
        }
               
        
        
    
    }
    
    
    private void txtUbicacionKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtUbicacionKeyReleased
        txtUbicacion.setText( txtUbicacion.getText().toUpperCase());
    }//GEN-LAST:event_txtUbicacionKeyReleased

    private void btUbcActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btUbcActionPerformed
        
       jdBuscaUbicacionTraslados Ubicacion= new jdBuscaUbicacionTraslados(null, true);
        Ubicacion.CargaBodegaOR(1);
        Ubicacion.setVisible(true);
        txtUbicacion.setText(Ubicacion.GetUbicacion());
        txNombreUbicacion.setText(Ubicacion.GetNombreUbicacion());
        
        txtUbicacion2.setText(txtUbicacion.getText().trim());
        
        txtUbicacion2.setText(Ubicacion.GetUbicacion());
        CargaProductos();
        btReubicar.setEnabled(true);
        
         txtUbicacion.setText("");
         
    }//GEN-LAST:event_btUbcActionPerformed
    
    public void Ubicar_Aud(){
           
        ExeSql Sql = new ExeSql();
        ExeSql Sql2 = new ExeSql();
        ExeSql SqlAud = new ExeSql();
        
        ResultSet Rs,Rs1, Rs2, RsAud;
        
       //********************************* 
        
        String Sku = "";
        String Ubicacion = "";
        String QryIns;
        
        String NewCorrelativo;
        
        int stocksistema = 0;
        int stockfisico = 0;
        int stockreubicado = 0;
        int diferencia = 0;
      
       
        try{
                
                Ubicacion = txtUbicacion2.getText().toString().trim();
                              
            //************************************************************************************************************ 
                
                Rs = Sql.Select("select sp_getcorrelativo \n" +
                                "from sp_getcorrelativo('INV')");   
                Rs.next();
                NewCorrelativo = Rs.getString("sp_getcorrelativo");
                Rs.close();
                
                
             
                
            //************************************************************************************************************           
                // UBICA PRODUCTOS EN AUDITORIA
                for (int i = 0; i < Grilla_Aud.getRowCount(); i++) {
                                                 
                    Sku = Grilla_Aud.getValueAt(i, 0).toString().trim();
                    stocksistema =  Integer.parseInt(Grilla_Aud.getValueAt(i, 2).toString().trim());
                    stockfisico = Integer.parseInt(Grilla_Aud.getValueAt(i, 3).toString().trim());
                    stockreubicado = Integer.parseInt(Grilla_Aud.getValueAt(i, 3).toString().trim());
                    diferencia = Integer.parseInt(Grilla_Aud.getValueAt(i, 5).toString().trim());
                            
                    QryIns = "INSERT into mt_auditoria_ubicaciones (ubica_origen,ubicacion_destino,sku,folio,stock_sistema,stock_fisico, \n"+
                             "reubicados,diferencia) \n" +
                             "values ('" + Ubicacion + "',' ','" + Sku + "'," + NewCorrelativo  + "," + stocksistema + ", \n " + 
                             stockfisico + ","+stockreubicado+","+ diferencia + ")";
                        
                    Sql2.ExeSql(QryIns);
                    Sql2.Commit();
                        
                    rebaja_stock(Ubicacion,Sku.trim(),stocksistema);
                     
                }   
                
         
        }catch (SQLException e) {
        
            System.out.println(e.getMessage());
            Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, e);
            Sql2.Rollback();
         
        
        }finally{
            
          Sql2.Close();
            
        }          
        
        
        
    }
    
    private void txtUbicacionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtUbicacionActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtUbicacionActionPerformed

    private void Grilla_metroMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_Grilla_metroMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_Grilla_metroMouseClicked

    private void Limpiar(){
    
        txtUbicacion.setText("");
        txtUbicacion2.setText("");
        txNombreUbicacion.setText("");
        txtSku.setText("");
        txNombre.setText("");
        txCant.setText("1");
        
//        txtSku.setEnabled(false);
//        txCant.setEnabled(false);
        
        DefaultTableModel TableModelo = (DefaultTableModel) Grilla_metro.getModel();        
        DefaultTableModel TableModelo2 = (DefaultTableModel) Grilla_Aud.getModel();        
        
        while (TableModelo.getRowCount() > 0) {
            TableModelo.removeRow(0);
        }
        
        while (TableModelo2.getRowCount() > 0) {
            TableModelo2.removeRow(0);
        }
        
        
    
    }
    
    
    
    
    
    private void Abrir_Folio(){
        
        DefaultTableModel TableModelo = (DefaultTableModel) Grilla_Aud.getModel(); 
        DefaultTableModel TableModelo2 = (DefaultTableModel) Grilla_metro.getModel(); 
     
        
        while (TableModelo.getRowCount() > 0){
            TableModelo.removeRow(0);
        }
        
        
       
        
        
      
        
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
        String Query ="";
        int cont = 0;
        lbSelec.setText("0");
        contselec = 0;
        
        jdAbrirFolioAud ADoc = new jdAbrirFolioAud(null, true);
        
        if(ADoc.ShowModal()==JOptionPane.YES_OPTION){
            
            try{
         
                Query = "SELECT m.*, p.nombre, cm.nombre as ubc FROM mt_auditoria_ubicaciones m \n"+
                        "LEFT JOIN producto p ON m.sku = p.sku \n"+
                        "LEFT JOIN mt_codmetro cm ON m.ubica_origen = cm.codmetro \n"+
                        "WHERE m.folio = "+ADoc.GetNumero()+" \n"+
                        "ORDER BY p.nombre";
            
                Rs = Sql.Select(Query);
            
                if (Sql.GetRowCount() > 0){
            
                    while (Rs.next()){
                        
                        String Sku = Rs.getString("sku").trim(); 
                        String Nombre = Rs.getString("nombre").trim(); 
                        int Sistema = Rs.getInt("stock_sistema");
                        int Fisico = Rs.getInt("stock_fisico");
                        int Reubicado = Rs.getInt("reubicados");
                        int Dif = Rs.getInt("diferencia");
                        
                        String UbicaOrigen = Rs.getString("ubc").trim();
                                        
                        TableModelo.addRow(new Object[]{Sku,Nombre,Sistema,Fisico,Reubicado,Dif,false,UbicaOrigen,"0" });
                        
                        cont = cont + Dif;
                
                    }
                
                
                 
                    
                
                    txtUbicacion.setEnabled(true);
                    
                    if(fmMain.GetUsuarioEligeUbicacion()){
           
                        btUbc.setEnabled(true);
         
                    }
                    
                   // btUbc.setEnabled(true);
                
                    txtSku.setEnabled(true);
                    //txCant.setEnabled(true);
                    btReubicar.setEnabled(true);

                    
                    while (TableModelo2.getRowCount() > 0) {
                           TableModelo2.removeRow(0);
                    }
                    
                    System.out.println("El cont ES : "+cont);
                    
                    
                    
                    
                    
                }   
        
            }catch (Exception e) {
            
                System.out.println(e.getMessage());
            
            } finally{
            
                Sql.Close();
            }          
                
        }
    
    }
    
    
    public void Abrir_Folio_Ext(String Folio, String Estado){
        
        DefaultTableModel TableModelo = (DefaultTableModel) Grilla_Aud.getModel(); 
        DefaultTableModel TableModelo2 = (DefaultTableModel) Grilla_metro.getModel(); 
        
        
        while (TableModelo.getRowCount() > 0) {
            TableModelo.removeRow(0);
        }
        
       
        
        txtSku.setText("");
        txNombre.setText("");
        txtSku.requestFocus();
        txCant.setText("1");
        
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
        String Query ="";
        int cont = 0;
        lbSelec.setText("0");
        contselec = 0;
            
        try{
         
            Query = "SELECT m.*, p.nombre,cm.nombre as ubc FROM mt_auditoria_ubicaciones m \n"+
                    "LEFT JOIN producto p ON m.sku = p.sku \n"+
                    "LEFT JOIN mt_codmetro cm ON m.ubica_origen = cm.codmetro \n"+
                    "WHERE m.folio = "+Folio+" \n"+
                    "ORDER BY m.folio desc";
            
            Rs = Sql.Select(Query);
            
            if (Sql.GetRowCount() > 0){
            
                while (Rs.next()){
                        
                        String Sku = Rs.getString("sku").trim(); 
                        String Nombre = Rs.getString("nombre").trim(); 
                        int Sistema = Rs.getInt("stock_sistema");
                        int Fisico = Rs.getInt("stock_fisico");
                        int Reubicado = Rs.getInt("reubicados");
                        int Dif = Rs.getInt("diferencia");
                        //String UbicaOrigen = Rs.getString("ubica_origen").trim();
                         String UbicaOrigen = Rs.getString("ubc").trim();
                        
                                        
                        TableModelo.addRow(new Object[]{Sku,Nombre,Sistema,Fisico,Reubicado,Dif,false,UbicaOrigen,"0" });
                        
                        cont = cont + Dif;
                
                }
                
                
              
                    
                
                
                txtUbicacion.setEnabled(true);
                    
                if(fmMain.GetUsuarioEligeUbicacion()){
           
                    btUbc.setEnabled(true);
         
                }
                    
                //btUbc.setEnabled(true);
                
                txtSku.setEnabled(true);
                //txCant.setEnabled(true);
                btReubicar.setEnabled(true);
               
                    
                while (TableModelo2.getRowCount() > 0) {
                
                    TableModelo2.removeRow(0);
                }
                    
                System.out.println("El cont ES : "+cont);
                    
                
                    
                    
            }   
        
        }catch (Exception e) {
            
            System.out.println(e.getMessage());
            
        } finally{
            
           Sql.Close();
        }          
    
    }
    
    
    
    
    
    private void Grilla_AudMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_Grilla_AudMouseClicked
        
                
        if(evt.getClickCount() ==1 ){
         
            
            int columna = Grilla_Aud.getSelectedColumn(); // obtengo la columna seleccionada
            
            
            if (columna == 4){
            
                boolean selecciona = (boolean) Grilla_Aud.getValueAt(Grilla_Aud.getSelectedRow(),4);
             
                if (selecciona){
                    
                    int cant = Integer.parseInt(Grilla_Aud.getValueAt(Grilla_Aud.getSelectedRow(),3).toString().trim());
                    
                    if (cant == 0){
                    
                        fmMain.Mensaje("La Cantidad debe ser mayor a 0 !!");
                        Grilla_Aud.setValueAt(false, Grilla_Aud.getSelectedRow(), 4);
                        return;
                    
                    }
                    
                    contselec++;
                    
             
                }else if (!selecciona && contselec > 0) {
                    
                        contselec--;
                 
                }
             
            } 
             
           
             
            if (contselec > 0){
             
               System.out.println("HAY ELEMENTOS SELECCIONADOS!!"+contselec);
               lbSelec.setText(""+contselec);
               
               Elige = true;
             
            }else if (contselec == 0){
             
                System.out.println("NO EXISTEN ELEMENTOS SELECCIONADOS!!"+contselec);
                lbSelec.setText(""+contselec);
                
                Elige = false;
                
                 
            }
             
         }
        
    }//GEN-LAST:event_Grilla_AudMouseClicked

    private void txCantKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txCantKeyPressed
       
        if(evt.getKeyCode()== KeyEvent.VK_ENTER){
            
            txCant.setEnabled(false);
            txtSku.setText("");
            txtSku.requestFocus();

        }    
        
        
    }//GEN-LAST:event_txCantKeyPressed

    private void txCantKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txCantKeyTyped
        
        char validar = evt.getKeyChar();    //C칩digo agregado por R. Lopez
        if (Character.isLetter(validar)){   //se valida que solo se ingresen 
           
            evt.consume();                  //n칰meros al textfield "txRut"
        }
        
        
    }//GEN-LAST:event_txCantKeyTyped

    private void btReubicarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btReubicarActionPerformed

        try{
                    
            btReubicar.setEnabled(false);
            
            Reubicacion2();
                    
            System.out.println("contselec ES : "+contselec);
                    
            if (Elige){    
                        
                lbCarga.setVisible(true); 
                                          
                Cargar_Ubc_Destino();  //Abre la Ubicacion de destina para la reubicaci칩n
                        
                DescuentaCantUbcAnteriores();
                        
                lbCarga.setVisible(false);
                   
            }
            
            btReubicar.setEnabled(true);
                   
                 
        }catch (Exception e) {
            e.printStackTrace();
           Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, e);
        
        }finally{
        
            btReubicar.setEnabled(true);
        
        } 
                
        
    }//GEN-LAST:event_btReubicarActionPerformed

    
    
    private void Reubicacion2(){
     
        int Cantidad = 0;
        int Sistema = 0;
        
        
        ExeSql Sql3 = new ExeSql();
        
        
        if (contselec == 0){
            
            Elige = false;
         
            fmMain.Mensaje("No hay Productos Seleccionados!!");
            return;
         
        }else if (contselec > 0) {
        
        
            Elige = true;
        
        }
        
        
        if (txtUbicacion2.getText().trim().isEmpty() ){
            
            fmMain.Mensaje("Debe elegir una ubicaci칩n!!");
            return;
        
        }
        
       
        
        try {
        
            for (int i = 0; i < Grilla_Aud.getRowCount(); i++) {
        
                boolean agrega = (boolean) Grilla_Aud.getValueAt(i, 4);
                String Sku = Grilla_Aud.getValueAt(i, 0).toString().trim();
                
                Sistema = Integer.parseInt(Grilla_Aud.getValueAt(i, 2).toString().trim());    
                Cantidad = Integer.parseInt(Grilla_Aud.getValueAt(i, 3).toString().trim());    
            
          
                if(agrega && Cantidad > 0){
                
                    
                    pub_Sku = Sku;
                    pub_Sistema = Sistema;
                    pub_Cantidad = Cantidad;
                    
                    
                    
                    String Ubica = txtUbicacion2.getText().trim();
                    
                    Actualiza_Ubc_Destino(Cantidad, Ubica, Sku);  ////Actualiza las cantidades agregadas en la ubicacion de Destino desde el folio de Auditor칤a  
                    
                    //*********************************************************************************************************************//            
            
            
                        String QryDel = "UPDATE mt_traslado_productos SET \n"+
                                        "sistema =  sistema - " +  Cantidad + " \n" +
                                        "WHERE sku IN ('" + Sku + "')";
                        
                        
                        Sql3.ExeSql(QryDel);
                       
                  
                        Sistema = Sistema - Cantidad;
                        
                        Grilla_Aud.setValueAt(Sistema, i, 2);   //actualiza stock Sistema despues de la reubicaci칩n
                        Grilla_Aud.setValueAt("0", i, 3);   //reinicia ka cantidad a 0
                        Grilla_Aud.setValueAt(false, i, 4);   //deselecciona el sku
                    //**********************************************************************************************************************//            
                        pub_Sistema = Sistema;
                                   
               
                }
              
                      
            }
            
            Sql3.Commit();
            
            lbSelec.setText("0");
            contselec = 0;
       

            txtSku.setText("");
            txNombre.setText("");
            txCant.setText("1");
            
            
        }catch (SQLException e) {
                
            System.out.println(e.getMessage());
            Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, e);
            Sql3.Rollback();
                
        }finally{
                
             Sql3.Close();
                
        }    
            
            
       
        
        
        
        
        
        
        
        
    
    }
    
    
    
    
    
    
    private void Actualiza_Ubc_Destino(int Cantidad, String Ubica, String Sku){
    
         
        ExeSql Sql = new ExeSql();
        ExeSql Sql2 = new ExeSql();
        ResultSet Rs;
        
                
        try {
                    
             Rs = Sql.Select("select * from mt_productos where ubicacion = '" + Ubica + "' and sku = '" + Sku + "'");   //se busca el sku en la ubicaci칩n de destino
                        
            if (Sql.GetRowCount() > 0){
            
                String QryUpd = "UPDATE mt_productos SET \n"+
                                "cant = cant + " +  Cantidad + ", \n" +
                                "usuario_mod = '" + fmMain.GetUsuario() + "' \n" +
                                "WHERE ubicacion IN ('"+Ubica+"') AND sku = '" + Sku + "' ";
            
                Sql2.ExeSql(QryUpd);
            
            
            }else {
            
                String QryIns = "INSERT INTO mt_productos (ubicacion,sku,cant,usuario)\n" +
                                "VALUES ('"+Ubica+"','" + Sku + "',"+Cantidad+",'"+fmMain.GetUsuario()+"')";
            
                Sql2.ExeSql(QryIns);
                         
                
            }
                        
            Sql2.Commit();
                        
        } catch (SQLException ex) {
                    
                Sql2.Rollback();
                Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, ex);
                    
        }finally {
                    
            Sql2.Close();
                    
        }
        
    
    
    
    }
    
    
    
    
    
    private void Cargar_Ubc_Destino(){
    
        
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
        
        DefaultTableModel TableModelo = (DefaultTableModel) Grilla_metro.getModel();        
        
        while (TableModelo.getRowCount() > 0) {
            TableModelo.removeRow(0);
        }
        
        
        try {
       

            String Ubica = txtUbicacion2.getText().trim();
            
            Rs = Sql.Select("SELECT mt.sku, p.nombre, mt.cant FROM mt_productos mt \n"+ 
                            "LEFT JOIN producto p ON mt.sku = p.sku \n"+ 
                            "WHERE mt.ubicacion IN ('" + Ubica   + "')");
            
            if (Sql.GetRowCount() > 0){
            
                while (Rs.next()){
                
                    if (Rs.getInt("cant") > 0){
                    
                        TableModelo.addRow(new Object[]{Rs.getString("sku"),Rs.getString("nombre"),Rs.getString("cant")});
                    
                    }
               
                }
            }
            
          
            
        
        } catch (SQLException ex) {
                       
            Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, ex);
        }finally{
    
            Sql.Close();
            
        }
    
    
    }
    
    
    
   private void EliminaCantUbcAnteriores(){
   
        int Cantidad = 0;
        int Sistema = 0;
        
        
        ExeSql Sql3 = new ExeSql();
        
        
        try {
        
            for (int i = 0; i < Grilla_metro.getRowCount(); i++) {
        
                String Sku = Grilla_metro.getValueAt(i, 0).toString().trim();
                    
                //*********************************************************************************************************************//            
            
                 
                    String QryUpd = "UPDATE mt_productos SET \n"+
                                    "cant = 0  \n" +
                                    "WHERE sku IN ('" + Sku + "') \n"+
                                    "AND ubicacion LIKE '%LVLB1%'";
                        
                        
                    Sql3.ExeSql(QryUpd);
                       
                  
                    //**********************************************************************************************************************//            
                      
            }
            
            Sql3.Commit();
            
            lbSelec.setText("0");
            contselec = 0;
       

            txtSku.setText("");
            txNombre.setText("");
            txCant.setText("1");
            
            
        }catch (SQLException e) {
                
            System.out.println(e.getMessage());
            Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, e);
            Sql3.Rollback();
                
        }finally{
                
             Sql3.Close();
                
        }    
        
   
   }
    
   
   private void DescuentaCantUbcAnteriores(){
        
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
        
        
        ExeSql Sql3 = new ExeSql();
        
        
        try {
        
               System.out.println("pub_Sistema ES : "+pub_Sistema);
            
            
                String Sku = pub_Sku;
                int Tot_cant = pub_Cantidad;
                int Sistema = pub_Sistema;    
                    
                //*********************************************************************************************************************//            
            
                    
                Rs = Sql.Select("select mt.sku, mt.ubicacion, mt.cant from mt_productos mt\n" +
                                "where (mt.ubicacion LIKE '%LVLB1%' or mt.ubicacion LIKE '%LVLB3%'\n" +
                                "or mt.ubicacion IN ('TRAN.1001.1','TRAN.1010.1','TRAN.1009.1','TRAN.1005.1','TRAN.1004.1','TRAN.1000.1','TRAN.10009.1'))\n" +
                                "and mt.cant > 0 and mt.sku IN ('"+Sku.trim()+"')\n" +
                                "order by mt.ubicacion");
                
                
                
                if (Sql.GetRowCount() > 0){
                
                    while (Rs.next()){
                    
                        int cant = Rs.getInt("cant");
                        String ubc = Rs.getString("ubicacion");
                        
                        if (cant < Tot_cant){   //36 | 12
                        
                            Tot_cant = Tot_cant - cant;   
                        
                            String QryUpd = "UPDATE mt_productos SET \n"+
                                            "cant = cant - "+cant+"  \n" +  
                                            "WHERE sku IN ('" + Sku.trim() + "') \n"+
                                            "AND ubicacion IN ('"+ubc.trim()+"')";
                        
                            Sql3.ExeSql(QryUpd);
                        
                        }else if (cant >= Tot_cant &&  Tot_cant > 0) {  //36 | 12
                            
                            String QryUpd = "UPDATE mt_productos SET \n"+
                                            "cant = cant - "+Tot_cant+"  \n" + //24 = 36 - 12
                                            "WHERE sku IN ('" + Sku.trim() + "') \n"+
                                            "AND ubicacion IN ('"+ubc.trim()+"')";
                            Sql3.ExeSql(QryUpd);
                            
                            Tot_cant = 0;
                            
                        }
                    }
                       
                }  
                //**********************************************************************************************************************//    
                
                
                DescuentaCantAuditoria(Sku, Tot_cant); 

                 
                 
                //**********************************************************************************************************************//
                      
            
            
            Sql3.Commit();
            
            lbSelec.setText("0");
            contselec = 0;
       

            txtSku.setText("");
            txNombre.setText("");
            txCant.setText("1");
            
            
        }catch (SQLException e) {
                
            System.out.println(e.getMessage());
            Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, e);
            Sql3.Rollback();
                
        }finally{
                
            Sql3.Close();
                
        }
        
        
   
   }
   
   
   
   private void DescuentaCantAuditoria(String Sku, int Tot_cant ){
        
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
        
        
        ExeSql Sql3 = new ExeSql();
        
        
        try {
          
                
                if (Tot_cant > 0){
            
                    Rs = Sql.Select("select au.sku, (au.diferencia*-1) as dif, au.folio from mt_auditoria_ubicaciones au \n" +
                                    "where au.diferencia < 0 and au.sku in ('"+Sku.trim()+"')\n" +
                                    "order by (au.diferencia*-1) DESC");
                    
                    if (Sql.GetRowCount() > 0){
                
                        while (Rs.next()){
                    
                            int dif = Rs.getInt("dif");
                            int folio = Rs.getInt("folio");
                        
                            if (dif < Tot_cant){   
                        
                                Tot_cant = Tot_cant - dif;   
                        
                                String QryUpd = "UPDATE mt_auditoria_ubicaciones SET \n"+
                                                "diferencia = diferencia + "+dif+"  \n" +  
                                                "WHERE sku IN ('" + Sku.trim() + "') \n"+
                                                "AND folio ="+folio;
                        
                                Sql3.ExeSql(QryUpd);
                        
                            }else if (dif >= Tot_cant &&  Tot_cant > 0) { 
                            
                                String QryUpd = "UPDATE mt_auditoria_ubicaciones SET \n"+
                                                "diferencia = diferencia + "+Tot_cant+"  \n" +  
                                                "WHERE sku IN ('" + Sku.trim() + "') \n"+
                                                "AND folio ="+folio;
                                Sql3.ExeSql(QryUpd);
                            
                                Tot_cant = 0;
                            
                            }
                        }
                       
                    }  
              
                    Sql3.Commit();
            
                }
            
        }catch (SQLException e) {
                
            System.out.println(e.getMessage());
            Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, e);
            Sql3.Rollback();
                
        }finally{
                
            Sql3.Close();
                
        }
   
   }
   
   
    
    
    
    private void txtUbicacion2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtUbicacion2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtUbicacion2ActionPerformed

    private void txtUbicacion2KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtUbicacion2KeyPressed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtUbicacion2KeyPressed

    private void txtUbicacion2KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtUbicacion2KeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_txtUbicacion2KeyReleased

    private void btAddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btAddActionPerformed
        // TODO add your handling code here:
        int num =0;
        num = Integer.parseInt(txCant.getText().trim()) + 1;
        txCant.setText(String.valueOf(num));
    }//GEN-LAST:event_btAddActionPerformed

    private void btMenosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btMenosActionPerformed
        // TODO add your handling code here:
        // TODO add your handling code here:
        int num =0;
        num = Integer.parseInt(txCant.getText().trim());
        
        if (num > 1){
        
            num = Integer.parseInt(txCant.getText().trim()) - 1;
        
        }
        txCant.setText(String.valueOf(num));
    }//GEN-LAST:event_btMenosActionPerformed

    private void txCantFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txCantFocusLost
        
        int cant_ingresa = Integer.parseInt(fmMain.SetGuardar(txCant.getText().trim()));
            
            
            if (cant_ingresa <= 0){
            
                fmMain.Mensaje("Cantidad debe ser mayor o igual a 1 !!");
                txCant.setText("1");
                
            }
            
            if (cant_ingresa > 1 && cant_ingresa < 11){
            
                fmMain.Mensaje("Cantidad debe ser mayor a 10 !!");
                txCant.setText("1");
                
            }
        
        
    }//GEN-LAST:event_txCantFocusLost

    private void txCantMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txCantMouseClicked
       
        if(evt.getClickCount()==2){
       
            if (!txCant.isEnabled()){
            
                txCant.setEnabled(true);
                txCant.requestFocus();

            }    

        }
        
        
    }//GEN-LAST:event_txCantMouseClicked

    private void btActualizarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btActualizarActionPerformed
        
        DefaultTableModel TableModelo = (DefaultTableModel) Grilla_metro.getModel();        
        
        while (TableModelo.getRowCount() > 0) {
            TableModelo.removeRow(0);
        }
        
        
        txtUbicacion.setText("");
        txNombreUbicacion.setText("");
        txtUbicacion2.setText("");
        
        
        txtSku.setText("");
        txNombre.setText("");
        txCant.setText("1");
        
        CARGAR();
        
        
        
        
        
    }//GEN-LAST:event_btActualizarActionPerformed

    
    private void revierte(){
    
    
        DefaultTableModel TableModelo = (DefaultTableModel) Grilla_Aud.getModel(); 
        DefaultTableModel TableModelo2 = (DefaultTableModel) Grilla_metro.getModel(); 
        
        
        while (TableModelo2.getRowCount() > 0) {
            TableModelo2.removeRow(0);
        }
        
        for (int i = 0; i < Grilla_Aud.getRowCount(); i++) {
        
            
              String Sku = Grilla_Aud.getValueAt(i, 0).toString().trim();
              String Nombre = Grilla_Aud.getValueAt(i, 1).toString().trim();
              String Sistema = Grilla_Aud.getValueAt(i, 2).toString().trim();
              
              
              TableModelo2.addRow(new Object[]{Sku,Nombre,Sistema});
        
        }
        

        txtSku.setText("");
        txtSku.setEnabled(false);
        txCant.setText("1");
        txCant.setEnabled(false);
        
        btReubicar.setEnabled(false);
        
        while (TableModelo.getRowCount() > 0) {
            TableModelo.removeRow(0);
        }
    
    
        revierte_Aud();
    
    
    }
    
    
    
    private void revierte_Aud(){
    
    
        ExeSql Sql = new ExeSql();
        ExeSql Sql2 = new ExeSql();
        ExeSql SqlAud = new ExeSql();
        
        ResultSet Rs,Rs1, Rs2, RsAud;
        
       //********************************* 
        
        
        String Sku = "";
        String Ubicacion = "";
        String UbicacionDestino = "";
        String StUsuario,QryIns, qryUpd, QryDel,Query,Query2,QueryAud;
        
        int cantidad = 0;
      
       
        try{
                
                UbicacionDestino = txtUbicacion.getText().toString().trim();
                Ubicacion = "TRAN.1000.1";
                StUsuario = fmMain.GetUsuario();
               
            //************************************************************************************************************            
                       
                // UBICA PRODUCTOS DESDE METRO AUDITORIA
                                                                        // AUDITORIA //   
                Query = "select * from mt_productos where ubicacion = '" + Ubicacion + "'";
                Rs = Sql.Select(Query);
                
                if (Sql.GetRowCount() > 0){  //Si ya existe la ubicacion
                
                     while (Rs.next()) {    
                                                 
                        Sku =   Rs.getString("sku").trim();
                        cantidad = Rs.getInt("cant");
                                                                                     
                        QueryAud = "select *  from mt_productos where ubicacion = '" + UbicacionDestino + "' and sku = '" + Sku + "'";
                        RsAud = SqlAud.Select(QueryAud);
                    
                        if (SqlAud.GetRowCount() > 0){  //Si ya existe la ubicacion AUDITORIA, realiza un Update
                                        
                            String QryUpd = "UPDATE mt_productos SET cant = cant + " +  cantidad + ",\n" +
                                            "usuario_mod ='" +fmMain.GetUsuario() + "', fecha_mod = now() " +
                                            "WHERE ubicacion = '" + UbicacionDestino + "' AND sku = '" + Sku + "' ";
                    
                            Sql2.ExeSql(QryUpd);
                            Sql2.Commit();
                
                        }else if (SqlAud.GetRowCount() == 0){  //Si no existe la ubicacion AUDITORIA, realiza un Insert
                            
                                QryIns = "INSERT into mt_productos (ubicacion,sku,usuario,cant, rut, tipdocto, nrodocto,ubica_origen2) \n" +
                                         "values ('" + UbicacionDestino + "','" + Sku + "','" + fmMain.GetUsuario()  + "', " + cantidad + ", \n " + 
                                         "null" + ",'" + "" + "'," + "null,'"+Ubicacion + "')";
                                Sql2.ExeSql(QryIns);
                                Sql2.Commit();
                            
                           
                    
                        }
                        
                        
                        
                        rebaja_stock(Ubicacion,Sku.trim(),cantidad);
                     }  
                }     
                
         
        }catch (SQLException e) {
        
            System.out.println(e.getMessage());
            Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, e);
            Sql2.Rollback();
         
        
        } finally{
            
            Sql2.Close();
            
            
        }          
   
    
    }
    
    
    
    
    private void rebaja_stock (String Ubica, String Sku,double cantidad){
        
        ExeSql Sql3 = new ExeSql();
                               
        try {
            
            String QryDel = "UPDATE mt_productos SET cant = cant - " +  cantidad + "\n" +
                            "WHERE ubicacion IN ('"+Ubica+"') AND sku = '" + Sku + "' ";
            
            Sql3.ExeSql(QryDel);
            
            Sql3.Commit();
            
            
        
        } catch (SQLException ex) {
            Sql3.Rollback();
            
            Logger.getLogger(pfTrasladoProductos.class.getName()).log(Level.SEVERE, null, ex);
        }finally{
    
            Sql3.Close();
            
        }
    
    }
    
    
    
    private void carga_producto(){
        
        String codbarfinal = txtSku.getText().replace("'", "-");
        txtSku.setText(codbarfinal.trim());
        
        if(!txtSku.getText().isEmpty()){
            
            CargaSku(txtSku.getText());
        
        }else {
        
            fmMain.Mensaje("Debe ingresar Sku...!");
            txtSku.requestFocus();
            return;
            

        
        }     

            
    }
    
    
    public void CargaSku(String Codigo) {
        ExeSql Sql = new ExeSql();
        
        ResultSet Rs = null;
        double Margen;
        int revisa_codbar =0;
        int revisa_codchile =0;
        ExeSql luv = new ExeSql();
        ResultSet producto = null;
        
        NoEncontrado=0;
   
        try {
            String Query;
            //Limpia la Lista
            
            Rs = luv.Select("select codbar, sku from codbar where sku='" + Codigo + "' or codbar='"+ Codigo + "'" );        
                    if (Rs.next())
                        {
                        Codigo = Rs.getString("sku").trim();
                        revisa_codbar++;
                        }
            Rs = luv.Select("select idch, sku from codchile where sku='" + Codigo +"' or idch='"+ Codigo + "'" );
                    if (Rs.next())
                        {
                        Codigo = Rs.getString("sku").trim();
                        revisa_codchile++;
                        }
            Rs = luv.Select("select codbar, sku from codbar where sku='" + Codigo + "' or codbar='"+ Codigo + "'" );        
                    if (Rs.next())
                        {
                        Codigo = Rs.getString("sku").trim();
                        revisa_codbar++;
                        }
             
                    
                    
            Query ="select p.sku,p.nombre from producto p \n" +
                   "where p.sku='" + Codigo + "' or p.sku in (select sku from codbar where codbar='" + Codigo + "')";
              
            Rs = luv.Select(Query);

            if(luv.GetRowCount()==0){   
                 fmMain.Mensaje("SKU: " + txtSku.getText().trim() + " no esta en Nuestra Bases de Datos. Comuniquese con Inform치tica");
                 txtSku.setText("");
                 txtSku.requestFocus();
                 NoEncontrado=0;
                 return;
            }      
            
            NoEncontrado = 1;
            Rs.next();
            Codigo = Rs.getString("sku").trim();
            String Nombre = Rs.getString("nombre");
       
            
            if (Nombre.length() > 20) {
                Nombre.substring(0, 20);
            }
            txtSku.setText(Codigo);
            txNombre.setText(Rs.getString("nombre"));
           
        } catch (SQLException ex) {
            System.out.println(ex);
        } finally {
            Sql.Close();
            luv.Close();
        }
    }
    
    
    class Elrender extends DefaultTableCellRenderer {
         
        @Override
        public Component getTableCellRendererComponent(JTable tabla, Object valor, boolean isSelected, boolean hasFocus, int fila, int columna) {
        super.getTableCellRendererComponent(tabla,valor,isSelected, hasFocus, fila, columna);
         
            
            if( tabla.getValueAt(fila,8).toString().trim().equals("1")){
                
                this.setBackground(Color.red);
                this.setForeground(Color.white);    
                
            }else {
             
                this.setForeground(Color.black);  
                this.setBackground(Color.white);    
            } 
            return this;
        }
    } 
    
    
    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTable Grilla_Aud;
    private javax.swing.JTable Grilla_metro;
    private javax.swing.JMenuItem MnuProd;
    private javax.swing.JButton btActualizar;
    private javax.swing.JButton btAdd;
    private javax.swing.JButton btMenos;
    private javax.swing.JButton btReubicar;
    private javax.swing.JButton btUbc;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPopupMenu jPopupMenu1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JTextArea jTextArea1;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JLabel lbCarga;
    private javax.swing.JLabel lbSelec;
    private javax.swing.JPanel panel;
    private javax.swing.JTextField txCant;
    private javax.swing.JTextField txNombre;
    private javax.swing.JTextField txNombreUbicacion;
    private javax.swing.JTextField txtSku;
    private javax.swing.JTextField txtUbicacion;
    private javax.swing.JTextField txtUbicacion2;
    // End of variables declaration//GEN-END:variables
}
